<div id="tutorialOverlay" class="tutorial-overlay">
    <div class="tutorial-container">

        <div class="tutorial-slide active" data-slide="1">
            <h3>Welcome to Minkowski Sum Visualizer</h3>
            <p>This tool helps you visualize the Minkowski sum of two convex shapes. Let's walk through the process:</p>
            <div class="tutorial-img-placeholder">
                <img src="static/images/tutorial/main.png" alt="App Preview">
            </div>
        </div>

        <div class="tutorial-slide" data-slide="2">
            <h3>1. Access Shape Tools</h3>
            <p>Click the <i class="fas fa-shapes"></i> icon on the right to open the shape tools menu.</p>
            <div class="tutorial-img-placeholder">
                <img src="static/images/tutorial/sidebar.png" alt="Opening Menu">
            </div>
            <div class="tutorial-note">
                <i class="fas fa-info-circle"></i> The menu will slide out from the right side.
            </div>
        </div>

        <div class="tutorial-slide" data-slide="3">
            <h3>2. Create Your First Figure</h3>
            <p>Choose a shape type:</p>
            <ul class="tutorial-list">
                <li><strong>Lines and Polygons</strong>: Enter vertices coordinates</li>
                <li><strong>Circles and Ellipses</strong>: Define center and radii</li>
                <li><strong>Curves and Others</strong>: Input a mathematical function</li>
            </ul>
            <div class="tutorial-img-placeholder">
                <img src="static/images/tutorial/function_modal.png" alt="Creating Figure">
            </div>
            <div class="tutorial-warning">
                <i class="fas fa-exclamation-triangle"></i> <strong>Important:</strong> Figures must be closed and convex for the Minkowski sum.
            </div>
        </div>

        <div class="tutorial-slide" data-slide="4">
            <h3>3. Complete Your Figure</h3>
            <p>Click <strong>"Finish Figure"</strong> in the bottom-right when done. If everything goes well, your figure should appear on screen.</p>
            <div class="tutorial-img-placeholder">
                <img src="static/images/tutorial/fig_representation.png" alt="Finishing Figure">
            </div>
            <div class="tutorial-tip">
                <i class="fas fa-lightbulb"></i> Use Undo/Redo buttons if you make mistakes.
            </div>
        </div>

        <div class="tutorial-slide" data-slide="5">
            <h3>4. Create Second Figure</h3>
            <p>Repeat the process to create a second shape. The <strong>"Compute Sum"</strong> button will activate once two valid figures exist.</p>
            <div class="tutorial-img-placeholder">
                <img src="static/images/tutorial/system_ready.png" alt="Second Figure">
            </div>
        </div>

        <div class="tutorial-slide" data-slide="6">
            <h3>5. Calculate Minkowski Sum</h3>
            <p>Click <strong>"Compute Sum"</strong> to visualize the result. Your original figures will remain visible for reference.</p>
            <div class="tutorial-img-placeholder">
                <img src="static/images/tutorial/computed_sum.png" alt="Computing Sum">
            </div>
        </div>

        <div class="tutorial-slide" data-slide="7">
            <h3>6. Explore Your Result</h3>
            <p>Use these tools to examine your visualization:</p>
            
            <div class="tool-grid">

                <div class="tool-card">
                    <div class="tool-icon bg-blue">
                        <i class="fas fa-search-plus"></i>
                    </div>
                    <div class="tool-content">
                        <h4>Zoom In</h4>
                        <p>Enlarge the view</p>
                    </div>
                </div>
                
                <div class="tool-card">
                    <div class="tool-icon bg-blue">
                        <i class="fas fa-search-minus"></i>
                    </div>
                    <div class="tool-content">
                        <h4>Zoom Out</h4>
                        <p>Shrink the view</p>
                    </div>
                </div>
                
                <div class="tool-card">
                    <div class="tool-icon bg-purple">
                        <i class="fas fa-arrows-alt"></i>
                    </div>
                    <div class="tool-content">
                        <h4>Pan View</h4>
                        <p>Click + drag</p>
                    </div>
                </div>
                
                <div class="tool-card">
                    <div class="tool-icon bg-green">
                        <i class="fas fa-file-export"></i>
                    </div>
                    <div class="tool-content">
                        <h4>Export</h4>
                        <p>Save as image</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="tutorial-slide" data-slide="8">
            <h3>7. Managing Your Work</h3>
            <div class="tutorial-control-grid">

                <div class="control-card">
                    <div class="control-icon bg-purple">
                        <i class="fas fa-trash-alt"></i>
                    </div>
                    <div class="control-text">
                        <h4>Clear Figure</h4>
                        <p>Removes current working figure</p>
                    </div>
                </div>
                
                <div class="control-card">
                    <div class="control-icon bg-blue">
                        <i class="fas fa-sync-alt"></i>
                    </div>
                    <div class="control-text">
                        <h4>New Canvas</h4>
                        <p>Clears entire workspace</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="tutorial-slide" data-slide="9">
            <h3>8. Troubleshooting</h3>
            <p>When working with shapes, two common issues can prevent successful validation:</p>
            <ul class="tutorial-list">
                <li><strong>Convexity Errors</strong>: The shape may not be convex. </li>
                <li><strong>Closure Errors</strong>: The shape must be closed, meaning the last point must connect back to the first point to form a complete loop.</li>
            </ul>

            <h4>Common Causes</h4>
            <ul class="tutorial-list">
                <li><strong>Incorrect Point Order:</strong> The order in which points or segments are entered affects closure detection. Reordering points may solve closure issues.</li>
                <li><strong>Implicit Closure:</strong> Sometimes the closing segment is missing from the point list but exists as a separate segment.</li>
            </ul>

            <h4>Tips to Avoid Issues</h4>
            <ul class="tutorial-list">
                <li>Enter points in a consistent, sequential order following the perimeter of the shape.</li>
                <li>If you encounter closure errors, try reordering points or segments to place the closing edge at the start or end of your list.</li>
                <li>Use simple, well-defined convex shapes to avoid complex edge cases.</li>
            </ul>
        </div>

        <div class="tutorial-nav">
            <button id="prevSlide" class="tutorial-nav-btn"><i class="fas fa-chevron-left"></i> Back</button>
            <div class="slide-indicators"></div>
            <button id="nextSlide" class="tutorial-nav-btn">Next <i class="fas fa-chevron-right"></i></button>
        </div>
        <button id="closeTutorial" class="tutorial-close-btn">
            <i class="fas fa-times"></i>
        </button>
    </div>
</div>